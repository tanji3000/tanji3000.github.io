---
title: Gaussian 계산 파일 정리하기
date: 2018-02-02 18:43:00
author: Tanji
Tags: gaussian, file, compress
categories: Research
---


오래된 계산 파일들을 보니 차지하고 있는 용량이 상당합니다. 그렇다고 애써 계산한 파일들을 삭제하기는 아깝군요. 그래서 Gaussian으로 계산한 파일들 용량을 물어봅니다. 면전의 삽질과 BM을 거쳐 정리된 과정만 소개 합니다.


1. 일단 계산시 생성된 모든 스크래치 파일들은 모두 삭제
2. 가장 큰 용량을 차지하는 `check point file (.chk)`을 `formchk` 유틸리티를 이용하여 `.fchk` 형식으로 변환
```
formchk filename.chk
```
이렇게 파일 형식 변환만으로 많게는 40% 정도 용량 절약
3. 파일 형식 변환이 완료되면 기존의 .chk 파일은 삭제
4. .fchk 파일을 압축한다. 파일 압축 방법에 따라 압축율과 압축이 걸리는 시간이 천차 만별
bzip2, tar, pigz, pbzip 등 다양한 압축 방법이 있는데, 여러 BM결과들과 동일하게 `pigz` 압축 효율이 가장 좋음
```
pigz filename.fchk
```
그럼 기존의 파일은 사라지고 `filename.fchk.gz` 파일이 생성됨
6. 이제 그 다음으로 용량이 큰 파일인 .log 파일을 같은 방법으로 압축함
```
pigz filename.log
```

pigz는 대부분 리눅스에 기본으로 설치가 안되어 있다. 홈페이지에서 source code를 다운로드 하고 압축을 풀고 디렉터리에 들어가서 make명령만 실행해주면 gcc를 이용해 바로 컴파일이 완료됨.

위 과정만 거처도 스토리지를 차지하는 공간을 60% 이상 절약할 수 있습니다.

경험이 의하면 이미 논문으로 발표한 계산 결과는 2-3년이 지나고 다시 꺼내볼 일이 드물기는 한 것 같습니다. `.log` 파알만 남기고 삭제하는 방법도 좋긴 합니다. 그리고 위의 과정을 `shell script` 와 `crontab`을 연동하여 평소에 파일들을 관리하는 것이 정말 좋은 방법이긴 합니다. 계산하다 보면 비싼 스토리지에 용량이 늘어나는 건 순식간이니까요.
